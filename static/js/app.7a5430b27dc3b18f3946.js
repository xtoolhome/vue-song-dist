webpackJsonp([1],{"7LOh":function(e,t){},NHnr:function(e,t,s){"use strict";function r(e){s("lGzH")}function a(e){s("o4PC")}function o(e){s("7LOh")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),c={name:"app"},i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},u=[],d={render:i,staticRenderFns:u},l=d,h=s("VU/8"),m=r,p=h(c,l,!1,m,null,null),g=p.exports,f=s("/ocq"),k=s("Dd8w"),v=s.n(k),N=s("NYxO"),b={data:function(){return{userName:""}},methods:v()({},Object(N.b)(["changeCurUser"]))},L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("用户名：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e._v(" "),s("router-link",{attrs:{tag:"a",to:"/booklist/"+e.userName,click:e.changeCurUser(e.userName)}},[e._v("阅读文章")])],1)},_=[],S={render:L,staticRenderFns:_},U=S,w=s("VU/8"),O=a,y=w(b,U,!1,O,"data-v-40bc4572",null),I=y.exports,x=s("fZjL"),C=s.n(x),q={data:function(){return{songs:{},checkedNames:[]}},computed:Object(N.c)({bList:function(e){return 0===C()(e.userList).length&&localStorage.userList&&(this.$store.dispatch("refreshAction"),this.checkedNames=e.userList[e.curUserId].checkedNames),e.bookList}}),methods:{changeNum:function(e){var t={bookid:e.target.id,flag:this.checkedNames.indexOf(e.target.id)>=0,checkedNames:this.checkedNames};this.$store.commit("changeNum",t),this.num1=this.$store.state.bookList[e.currentTarget.id]}},created:function(){var e=this;e.$http.get("https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp?g_tk=5381&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&w=儿歌&zhidaqu=1&catZhida=1&t=0&flag=1&ie=utf-8&sem=1&aggr=0&perpage=20&n=20&p=1&remoteplace=txt.mqq.all&_=1510804452218",{responseType:"json",withCredentials:!0}).then(function(t){e.songs=t.data.data.song.list}),e.checkedNames=localStorage.userList&&JSON.parse(localStorage.userList)[localStorage.curUserId]?JSON.parse(localStorage.userList)[localStorage.curUserId].checkedNames:[]},mounted:function(){}},A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.songs,function(t){return s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",id:t.songid},domProps:{value:t.songid.toString(),checked:Array.isArray(e.checkedNames)?e._i(e.checkedNames,t.songid.toString())>-1:e.checkedNames},on:{change:[function(s){var r=e.checkedNames,a=s.target,o=!!a.checked;if(Array.isArray(r)){var n=t.songid.toString(),c=e._i(r,n);a.checked?c<0&&(e.checkedNames=r.concat([n])):c>-1&&(e.checkedNames=r.slice(0,c).concat(r.slice(c+1)))}else e.checkedNames=o},function(t){e.changeNum(t)}]}}),e._v(" "),s("label",{attrs:{for:t.songid}},[e._v(e._s(t.songname))]),e._v("\n    \n    喜欢"),s("span",[e._v(e._s(e.bList[t.songid]?e.bList[t.songid]:0))])])}),e._v(" "),s("router-link",{staticClass:"icon-angle-right",attrs:{tag:"a",to:"/home"}},[e._v("返回登录页面")])],2)},$=[],P={render:A,staticRenderFns:$},j=P,H=s("VU/8"),J=o,z=H(q,j,!1,J,"data-v-b5b68a2e",null),E=z.exports;n.a.use(f.a);var F=new f.a({routes:[{path:"",redirect:"/home"},{path:"/home",name:"home",component:I},{path:"/booklist/:userId",component:E}]}),R=s("mvHQ"),T=s.n(R);n.a.use(N.a);var V=new N.a.Store({state:{curUserId:"",bookList:{},userList:{}},mutations:{changeCurUser:function(e,t){e.curUserId=t,localStorage.curUserId=t},changeNum:function(e,t){var s=0;e.userList.hasOwnProperty(e.curUserId)||n.a.set(e.userList,e.curUserId,{}),e.bookList.hasOwnProperty(t.bookid)||n.a.set(e.bookList,t.bookid,0),n.a.set(e.userList[e.curUserId],"checkedNames",t.checkedNames),s=!0===t.flag?e.bookList[t.bookid]+1:e.bookList[t.bookid]-1,n.a.set(e.bookList,t.bookid,s),localStorage.userList=T()(e.userList),localStorage.bookList=T()(e.bookList)},refresh:function(e){var t=JSON.parse(localStorage.userList),s=JSON.parse(localStorage.bookList);for(var r in t){n.a.set(e.userList,r,{});for(var a in t[r])n.a.set(e.userList[r],a,t[r][a])}for(var o in s)n.a.set(e.bookList,o,s[o]);e.curUserId=localStorage.curUserId}},actions:{refreshAction:function(e){(0,e.commit)("refresh")}}}),G=s("mtWM"),M=s.n(G);n.a.config.productionTip=!1,n.a.prototype.$http=M.a,new n.a({el:"#app",router:F,store:V,template:"<App/>",components:{App:g}})},lGzH:function(e,t){},o4PC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7a5430b27dc3b18f3946.js.map